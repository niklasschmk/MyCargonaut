<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button color="primary"></ion-back-button>
      <img alt="MyCargonautLogo" src="assets/icon/myCargonautLogo.png" class="logo">
    </ion-buttons>
    <ion-buttons *ngIf="offer" slot="end">
      <ion-icon color="primary" name="pencil" class="iconButton" *ngIf="offer.userId === authService.userId"
                (click)="editOffer(offerId)">></ion-icon>
      <ion-icon color="danger" class="iconButton" name="trash"
                *ngIf="offer.userId === authService.userId" (click)="deleteOffer()"></ion-icon>
    </ion-buttons>
    <ion-title>Angebot ansehen</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-spinner *ngIf="(!offer || !vehicle || !user) && !error" name="crescent" class="loadingSpinner"></ion-spinner>
  <ng-container *ngIf="offer && vehicle && user">
    <ion-list>
      <ion-item>
        <ion-label style="font-size: 15px">Start: {{offer.start}}</ion-label>
      </ion-item>
      <ion-item>
        <ion-label style="font-size: 15px">Ziel: {{offer.destination}}</ion-label>
      </ion-item>
      <ion-item>
        <ion-label style="font-size: 15px">Preis: {{offer.price}}</ion-label>
      </ion-item>
      <ion-item>
        <ion-label style="font-size: 15px">Pl√§tze: {{vehicle.seats}}</ion-label>
      </ion-item>
      <ion-item>
        <ion-label style="font-size: 15px">Stauraum: {{vehicle.cargoSpace}} Liter</ion-label>
      </ion-item>
      <ion-item>
        <ion-label style="font-size: 15px" color="primary" (click)="openOtherUser(this.offer.userId)">Angeboten
          von:  {{user.userName}}</ion-label>
      </ion-item>
      <ion-item>
        <ion-label style="font-size: 15px">Datum: {{offer.date  | date:'mediumDate':'+02:00'}} {{offer.date | date: 'shortTime' : '+02:00'}}</ion-label>
      </ion-item>
    </ion-list>
    <ion-button *ngIf="available" color="primary" expand="block" class="btn-space" (click)="book()">Buchen</ion-button>
    <ion-button *ngIf="booked" color="primary" expand="block" class="btn-space" (click)="resetBook()">Buchung absagen</ion-button>
  </ng-container>
  <ion-item *ngIf="error" class="redFont">
    <ion-icon name="warning-outline" color="red"></ion-icon>
      Ein Fehler ist aufgetreten!</ion-item>
  <ion-item  *ngIf="!available && !booked && offer && vehicle && user" class="redFont">
    <ion-icon name="warning-outline" color="red"></ion-icon>
      Dieses Angebot wurde bereits gebucht!</ion-item>
</ion-content>
